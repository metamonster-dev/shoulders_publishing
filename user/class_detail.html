<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>상세 정보</title>
    <!-- CDN -->
    <script
      src="https://code.jquery.com/jquery-3.7.1.js"
      integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
      crossorigin="anonymous"
    ></script>
    <!-- swiper -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- CSS -->
    <link rel="stylesheet" href="./css/custom.css" />
    <link rel="stylesheet" href="./css/fonts.css" />
    <link rel="stylesheet" href="./css/main.css" />
    <!-- JS -->
    <script src="./js/main.js"></script>
  </head>

  <body>
    <div class="wrapper">
      <div id="background" class="background_pc_txt"></div>
      <div class="global_wrap">
        <!--main header -->
        <header class="header">
          <div class="inner">
            <button class="back_btn" onclick="history.back();"></button>
            <h1>상세 정보</h1>
          </div>
        </header>
        <div class="container_wrap h_01 class_detail">
          <section class="thumbnail_sec">
            <figure>
              <img src="./assets/image/thumbnail/eng_375x240.png" />
            </figure>
          </section>
          <section class="tab_bar_sec">
            <ul class="tab_bar">
              <li data-target="#section1" class="item on">수업정보</li>
              <li data-target="#section2" class="item">수업소개</li>
              <li data-target="#section3" class="item">세부정보</li>
              <li data-target="#section4" class="item">선생님정보</li>
            </ul>
          </section>
          <section id="section1" class="section text_info_sec">
            <div class="global_inner">
              <p class="class_name">
                [영어] 입시 장인에게 배우는 비법 노트! 초등학생 입시를 위한
                스피킹
              </p>
              <div class="info_list">
                <p class="item">
                  <span class="tit">수업 방식</span>
                  <span class="txt">오프라인</span>
                </p>
                <p class="item">
                  <span class="tit">수업 횟수</span>
                  <span class="txt">일주일 (주3회)</span>
                </p>
                <p class="item">
                  <span class="tit">수업 일정</span>
                  <span class="txt">2024-12-23 ~ 2024-12-27</span>
                </p>
                <p class="item">
                  <span class="tit">대상</span>
                  <span class="txt">미취학아동</span>
                </p>
                <p class="item">
                  <span class="tit">수업 목표</span>
                  <span class="txt">방학 특강</span>
                </p>
                <p class="item">
                  <span class="tit">지역</span>
                  <span class="txt">서울 노원구</span>
                </p>
                <p class="item">
                  <span class="tit">수강료</span>
                  <span class="txt red">150,000원</span>
                </p>
                <p class="item">
                  <span class="tit">평점</span>
                  <span class="txt rating">4.0 </span>
                </p>
              </div>
            </div>
          </section>
          <section id="section2" class="section image_info_sec">
            <div class="global_inner">
              <h3>수업 소개</h3>
              <ul class="content_wrap">
                <li class="content" onclick="open_modal('#detail_image_01')">
                  <img src="./assets/image/dummy/class_detail_01.png" />
                </li>
                <li class="content" onclick="open_modal('#detail_image_01')">
                  <img src="./assets/image/dummy/class_detail_02.png" />
                </li>
                <li class="content" onclick="open_modal('#detail_image_01')">
                  <img src="./assets/image/dummy/class_detail_03.png" />
                </li>
              </ul>
            </div>
          </section>
          <p class="line"></p>
          <section id="section3" class="section detail_info_sec">
            <div class="global_inner">
              <h3>세부 정보</h3>
              <ul class="detail_list">
                <li class="item">
                  <i class="icon_blue_check"></i>
                  <span>레벨 테스트 포함</span>
                </li>
                <li class="item">
                  <i class="icon_blue_check"></i>
                  <span>셔틀버스 제공</span>
                </li>
                <li class="item">
                  <i class="icon_blue_check"></i>
                  <span>주차 가능</span>
                </li>
                <li class="item">
                  <i class="icon_blue_check"></i>
                  <span>학과목경시 목표</span>
                </li>
              </ul>
            </div>
          </section>
          <p class="line"></p>
          <section id="section4" class="section teacher_info_sec">
            <div class="global_inner">
              <h3>선생님 소개</h3>
              <div class="profile_wrap">
                <figure class="profile_box">
                  <img src="./assets/image/dummy/dummy_profile03.png" alt="" />
                </figure>
                <div class="txt_box">
                  <p class="item">
                    <span>소속</span>
                    <span>-</span>
                  </p>
                  <p class="item">
                    <span>지역</span>
                    <span>노원, 성북</span>
                  </p>
                  <p class="item">
                    <span>과목</span>
                    <span>영어</span>
                  </p>
                  <p class="item">
                    <span>대상</span>
                    <span>미취학, 초등 저학년</span>
                  </p>
                </div>
              </div>
            </div>
          </section>
          <div class="bottom_btn flex">
            <p class="bookmark_btn">
              <i class="icon_bookmark"></i>
              <span>찜</span>
            </p>
            <button
              type="button"
              class="open_bottom_sheet"
              data-target="option_select_bottom_sheet"
            >
              수강하기
            </button>
          </div>
          <!-- floating -->
          <div class="floating_area">
            <div class="inner">
              <p
                class="item icon_inquiry open_bottom_sheet"
                data-target="inquery_bottom_sheet"
              ></p>
            </div>
          </div>
          <!-- floating -->
        </div>

        <!-- 모달 -->
        <article id="detail_image_01" class="modal_wrap privew">
          <p class="modal_header">
            <i class="icon_close_w" onclick="close_modal()"></i>
          </p>
          <div class="image_box">
            <p class="image">
              <img src="./assets/image/dummy/class_detail_01.png" />
            </p>
          </div>
        </article>
        <!-- 모달 -->

        <!-- bottom sheet -->
        <div class="bottom_sheet_overlay"></div>
        <div
          id="option_select_bottom_sheet"
          class="bottom_sheet class_payments"
        >
          <div class="bottom_sheet_header">
            <h3>옵션 선택</h3>
            <p class="close_btn close_bottom_sheet"></p>
          </div>
          <div class="bottom_sheet_content">
            <p class="desc">수업 옵션 개수를 선택해 주세요.</p>
            <div class="info_wrap">
              <div class="text_box">
                <p class="tit">[얼리버드] 1인 수강권</p>
                <p class="price_box">
                  <span class="percent">34%</span>
                  <span class="sale_price">192,000원</span>
                  <span class="price">300,000</span>
                </p>
              </div>
              <div class="count_box">
                <button type="button" class="minus"></button>
                <p class="num">0</p>
                <button type="button" class="plus"></button>
              </div>
            </div>
            <div class="bottom_btn flex">
              <p class="bookmark_btn">
                <i class="icon_bookmark"></i>
                <span>찜</span>
              </p>
              <button
                class="open_bottom_sheet"
                data-target="option_select_bottom_sheet"
              >
                15,000원 결제하기
              </button>
            </div>
          </div>
        </div>

        <div id="inquery_bottom_sheet" class="bottom_sheet">
          <div class="bottom_sheet_header">
            <h3>어깨 톡톡</h3>
            <p class="close_btn close_bottom_sheet"></p>
          </div>
          <div class="bottom_sheet_content">
            <ul class="inquery_menu_list">
              <li>
                <span>
                  <img src="./assets/image/icon/i_inquery_chat.svg" />
                </span>
                <span>실시간 질문 입장</span>
                <i class="icon_right_arrow"></i>
              </li>
              <li>
                <span>
                  <img src="./assets/image/icon/i_kakao_chat.svg" />
                </span>
                <span>카카오톡 채널 문의</span>
                <i class="icon_right_arrow"></i>
              </li>
            </ul>
          </div>
        </div>
        <!-- bottom sheet -->
      </div>
    </div>
  </body>
</html>

<script>
  $(document).ready(function () {
    let $container = $(".container_wrap");

    // 탭 버튼 클릭 시 해당 섹션으로 스크롤 이동
    $(".tab_bar li").on("click", function () {
      let targetId = $(this).data("target");
      let target = $(targetId);

      if (target.length) {
        $container.animate(
          { scrollTop: target.position().top + $container.scrollTop() - 100 },
          500
        );
      } else {
        console.error("해당 섹션을 찾을 수 없습니다:", targetId);
      }
    });

    // .container_wrap 내부에서 스크롤 감지하여 'on' 클래스 추가
    $container.on("scroll", function () {
      let scrollPos = $container.scrollTop();

      $(".section").each(function () {
        let top = $(this).position().top + $container.scrollTop() - 150;
        let bottom = top + $(this).outerHeight();
        let id = $(this).attr("id");

        if (scrollPos >= top && scrollPos < bottom) {
          $(".tab_bar li").removeClass("on");
          $('.tab_bar li[data-target="#' + id + '"]').addClass("on");
        }
      });
    });
  });
</script>

<script>
  // 공통 영역
  $(document).ready(function () {
    $("#background").load("./include/background_pc.html");
  });
</script>
